**你好**

```
int a = 0;
```


哈哈哈
==

呵呵

1. 你好
2. 不好


```math
E = mc^2
```


```
package com.chat;

import java.io.*;
import java.net.*;
import java.util.*;

public class ChatServer {
    boolean started = false;
    ServerSocket ss = null;
    List<Client> clients = new ArrayList<Client> ();

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		new ChatServer ().start ();
	}
    public void start() {
        try {
            ss = new ServerSocket (8888);
            started = true;
        } catch (BindException e) {
            System.out.println ("used...");
            System.exit (0);
        } catch (IOException e) {
            e.printStackTrace ();
        }
        try {
            while (started) {
                Socket s = ss.accept ();
                Client c = new Client (s);
                System.out.println ("a client connected!");
                new Thread (c).start ();
                clients.add (c);
            }
        }  catch (IOException e) {
            e.printStackTrace ();
        }
    }

    class Client implements Runnable {
        private Socket s;
        private DataInputStream datain = null;
        private DataOutputStream dataout = null;
        private boolean connected = false;

        public Client(Socket s) {
            this.s = s;
            try {
                datain = new DataInputStream (s.getInputStream ());
                dataout = new DataOutputStream (s.getOutputStream ());
                connected = true;
            } catch (IOException e) {
                e.printStackTrace ();
            }
        }

        public void send(String str) {
            try {
                dataout.writeUTF (str);
            } catch (IOException e) {
                clients.remove (this);
                System.out.println ("off line...");
            }
        }

        public void run() {
            try {
                while (connected) {
                    String  str = datain.readUTF ();
                    System.out.println (str);
                    for (int i=0; i<clients.size (); ++i) {
                        Client c = clients.get (i);
                        c.send (str);
                    }
                    for (Iterator<Client> it=clients.iterator (); it.hasNext (); ) {
                        Client c = it.next ();
                        c.send (str);
                    }
                    Iterator<Client> it = clients.iterator ();
                    while (it.hasNext ()) {
                        Client c = it.next ();
                        c.send (str);
                    }
                }
            } catch (EOFException e) {
                System.out.println ("Client closed!");
            } catch (IOException e) {
                e.printStackTrace ();
            } finally {
                try {
                    if (datain != null) {
                        datain.close ();
                    }
                    if (dataout != null) {
                        dataout.close ();
                    }
                    if (s != null) {
                        s.close ();
                    }
                } catch (IOException ioe) {
                    ioe.printStackTrace ();
                }
            }
        }
    }
}

//http://wenku.baidu.com/link?url=H_RGYNX_Q5snP3vP5spAN4qeyVZc4NqREmYj18gqBo-GWe6TD8CCDpRaVoKSAVjBlGSy78hm5cyDlxNKSKT5NmB7BIKxKU42RkYJJ5DwIt3

```


```math
E = mc^2
```
